<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.AreaChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="rootPane"
            xmlns="http://javafx.com/javafx/17.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mycompany.rentcar.DashboardController"
            minHeight="600.0" minWidth="800.0" prefHeight="800.0" prefWidth="1200.0">

    <VBox spacing="10.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0"
          AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/></padding>

        <!-- Header -->
        <VBox maxHeight="150.0" minHeight="100.0" prefHeight="120.0" spacing="5.0" style="-fx-background-color: #CCCCCC;">
            <padding><Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/></padding>

            <HBox alignment="CENTER" spacing="20.0" VBox.vgrow="NEVER">
                <children>
                    <ImageView fitHeight="50.0" fitWidth="80.0" preserveRatio="true" smooth="true">
                        <image><Image url="@Side%20Bar%20Logo.png"/></image>
                    </ImageView>
                    <Label alignment="CENTER" text="Welcome Car Rental System" HBox.hgrow="ALWAYS">
                        <font><Font name="System Bold Italic" size="20.0"/></font>
                    </Label>
                    <ImageView fitHeight="50.0" fitWidth="80.0" preserveRatio="true" smooth="true">
                        <image><Image url="@Side%20Bar%20Logo.png"/></image>
                    </ImageView>
                </children>
            </HBox>

            <!-- Top nav -->
            <HBox alignment="CENTER" spacing="8.0" VBox.vgrow="NEVER">
                <children>
                    <Button fx:id="availabilityBtn" onAction="#handleAvailabilityBtn" prefHeight="34.0" prefWidth="142.0" text="Availability F1"/>
                    <Button fx:id="customerBtn" onAction="#handleCustomerBtn" prefHeight="32.0" prefWidth="146.0" text="Customer F2"/>
                    <Button fx:id="rentalBtn" onAction="#handleRentalBtn" prefHeight="31.0" prefWidth="148.0" text="Rental F3"/>
                    <Button fx:id="returnBtn" onAction="#handleReturnBtn" prefHeight="31.0" prefWidth="150.0" text="Return F4"/>
                    <Button fx:id="vehiclesBtn" onAction="#handleVehiclesBtn" prefHeight="33.0" prefWidth="184.0" text="Vehicles F5"/>
                </children>
            </HBox>
        </VBox>

        <!-- Stats cards -->
        <HBox prefHeight="120.0" spacing="20.0" VBox.vgrow="NEVER">
            <children>
                <VBox alignment="CENTER" minWidth="200.0" style="-fx-background-color: #E0E0E0; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                    <padding><Insets bottom="10.0" left="20.0" right="20.0" top="10.0"/></padding>
                    <Label text="Total Cars"/><Label fx:id="totalCarsLabel" text="0"/>
                </VBox>
                <VBox alignment="CENTER" minWidth="200.0" style="-fx-background-color: #E0E0E0; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                    <padding><Insets bottom="10.0" left="20.0" right="20.0" top="10.0"/></padding>
                    <Label text="Total Booking"/><Label fx:id="totalBookingLabel" text="0"/>
                </VBox>
                <VBox alignment="CENTER" minWidth="200.0" style="-fx-background-color: #E0E0E0; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                    <padding><Insets bottom="10.0" left="20.0" right="20.0" top="10.0"/></padding>
                    <Label text="Total Payment"/><Label fx:id="totalPaymentLabel" text="Rs. 0.00"/>
                </VBox>
            </children>
        </HBox>

        <!-- Charts -->
        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <children>
                <VBox alignment="CENTER" HBox.hgrow="ALWAYS">
                    <Label alignment="CENTER" text="Car"><font><Font name="System Bold Italic" size="17.0"/></font></Label>
                    <PieChart fx:id="pieChart"/>
                </VBox>
                <VBox alignment="CENTER" HBox.hgrow="ALWAYS">
                    <Label alignment="CENTER" text="Booking Per Month"><font><Font name="System Bold Italic" size="15.0"/></font></Label>
                    <LineChart fx:id="lineChart">
                        <xAxis><CategoryAxis side="BOTTOM"/></xAxis>
                        <yAxis><NumberAxis side="LEFT"/></yAxis>
                    </LineChart>
                </VBox>
                <VBox alignment="CENTER" HBox.hgrow="ALWAYS">
                    <Label alignment="CENTER" text="Payment Per Month"><font><Font name="System Bold Italic" size="14.0"/></font></Label>
                    <AreaChart fx:id="areaChart">
                        <xAxis><CategoryAxis side="BOTTOM"/></xAxis>
                        <yAxis><NumberAxis side="LEFT"/></yAxis>
                    </AreaChart>
                </VBox>
            </children>
        </HBox>

        <!-- Bottom: Report + Exit -->
        <HBox alignment="CENTER_RIGHT" prefHeight="42.0" prefWidth="1127.0">
            <children>
                <HBox alignment="CENTER" prefHeight="42.0" prefWidth="1127.0">
                    <Button fx:id="reportBtn" onAction="#handleReport" prefHeight="36.0" prefWidth="146.0" text="Report (F7)">
                        <font><Font name="System Bold Italic" size="12.0"/></font>
                    </Button>
                </HBox>
                <Button fx:id="exitBtn" onAction="#handleExit" prefHeight="26.0" prefWidth="161.0" text="Exit (Esc)"/>
            </children>
        </HBox>
    </VBox>
</AnchorPane>